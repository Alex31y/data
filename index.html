<!DOCTYPE HTML>
<html>
	<head>
		<title>Data view</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src="https://d3js.org/d3.v4.js"></script>
		<script src="app.js"></script>
	</head>
	<body class="is-preload">

		<!-- Sidebar -->
			<section id="sidebar">
				<div class="inner">
					<nav>
						<ul>
							<li><a href="#intro">Grafico 1</a></li>
							<li><a href="#one">Grafico 2</a></li>
							<li><a href="#two">Grafico 3</a></li>
							<li><a href="#three">Grafico 4</a></li>
						</ul>
					</nav>
				</div>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Intro -->
					<section id="intro" class="wrapper style1 fullscreen fade-up">
						<div id="grafico1">
							<p>Distribuzione dei progetti presenti nel dataset</p>
							<svg width="600" height="600" id="svg1"></svg>
							
						</div>
					</section>

				<!-- One -->
				<section id="one" class="wrapper style2 spotlights">
					<p>Scatterplot tra la variabile dipendente 'numCoveredLines' asse Y e variabile indipendente 'tloc' asse X sui progetti 'httprequest' e 'Activiti'</p>
					<section>
						<svg width="400" height="400" id="svg2">  </svg>
						<div class="content">
							<div class="inner">
								<p>Nelle istanze appartenenti al progetto 'httprequest' vi è una certa linearità tra variabile dipendente ed indipendente, anche se lievemente sporcata da alcuni outliners</p>
							</div>
						</div>
					</section>
					<section>
						<svg width="400" height="400" id="svg3"></svg>
						<div class="content">
							<div class="inner">
								<p>Nel progetto 'Activiti' vi è anche qui una correlazione lineare tra X e Y nelle istanze test unit. Tale correlazione è però nascosta da un forte rumore dovuto a specifiche istanze di test caratterizzate da un elevato coefficiente nella variabile dipendente 'numCoveredLines' </p>
							</div>
						</div>
					</section>
					<section>
						<svg width="400" height="400" id="svg4"></svg>
						<div class="content">
							<div class="inner">
								<p>Per cancellare il rumore e quindi evidenziare la linearità tra X e Y, è sufficiente rimuovere le istanze outliners dal dataset</p>
							</div>
						</div>
					</section>
				</section>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>

<script>
	// set the dimensions and margins of the graph
	var margin = {top: 20, right: 30, bottom: 40, left: 90},
		width = 600 - margin.left - margin.right,
		height = 600 - margin.top - margin.bottom;
	
	// append the svg object to the body of the page
	var svg = d3.select("#svg1")
	  .append("svg")
		.attr("width", width + margin.left + margin.right)
		.attr("height", height + margin.top + margin.bottom)
	  .append("g")
		.attr("transform",
			  "translate(" + margin.left + "," + margin.top + ")");
	
	// Parse the Data
	d3.csv("file.csv", function(data) {
	
	  // Add X axis
	  var x = d3.scaleLinear()
		.domain([0, 2000])
		.range([ 0, width]);
	  svg.append("g")
		.attr("transform", "translate(0," + height + ")")
		.call(d3.axisBottom(x))
		.selectAll("text")
		  .attr("transform", "translate(-10,0)rotate(-45)")
		  .style("text-anchor", "end")
		  .style('fill', 'white');
		  
	
	  // Y axis
	  var y = d3.scaleBand()
		.range([ 0, height ])
		.domain(data.map(function(d) { return d.nome; }))
		.padding(.1);
	  svg.append("g")
		.call(d3.axisLeft(y))
		.selectAll("text")
		  .style("text-anchor", "end")
		  .style('fill', 'white');
	
	  //Bars
	  svg.selectAll("myRect")
		.data(data)
		.enter()
		.append("rect")
		.attr("x", x(0) )
		.attr("y", function(d) { return y(d.nome); })
		.attr("width", function(d) { return x(d.istanze); })
		.attr("height", y.bandwidth() )
		.attr("fill", "#4CC9F0")
	})
	
	</script>
</script>

<script>

//first plot
// set the dimensions and margins of the graph
var margin2 = {top: 10, right: 30, bottom: 30, left: 60},
    width2 = 360 - margin2.left - margin2.right,
    height2 = 300 - margin2.top - margin2.bottom;

// append the svg object to the body of the page
var svg2 = d3.select("#svg2")
  .append("svg")
    .attr("width", width2 + margin2.left + margin2.right)
    .attr("height", height2 + margin2.top + margin2.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin2.left + "," + margin2.top + ")");

//Read the data
d3.csv("http.csv", function(data) {

  // Add X axis
  var x = d3.scaleLinear()
    .domain([0, 0.2])
    .range([ 0, width2 ]);
  svg2.append("g")
    .attr("transform", "translate(0," + height2 + ")")
    .call(d3.axisBottom(x))
	.selectAll("text")
		  .style("text-anchor", "end")
		  .style('fill', 'white');
	

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([0, 30])
    .range([ height2, 0]);
  svg2.append("g")
    .call(d3.axisLeft(y))
	.selectAll("text")
		  .style("text-anchor", "end")
		  .style('fill', 'white');

  // Add dots
  svg2.append('g')
    .selectAll("dot")
    .data(data)
    .enter()
    .append("circle")
      .attr("cx", function (d) { return x(d.tloc); } )
      .attr("cy", function (d) { return y(d.numCoveredLines); } )
      .attr("r", 3)
      .style("fill", "#4CC9F0")

})

//secondo plot
//
var svg3 = d3.select("#svg3")
  .append("svg")
    .attr("width", width2 + margin2.left + margin2.right)
    .attr("height", height2 + margin2.top + margin2.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin2.left + "," + margin2.top + ")");

//Read the data
d3.csv("Activiti.csv", function(data) {

  // Add X axis
  var x = d3.scaleLinear()
    .domain([0, 0.4])
    .range([ 0, width2 ]);
  svg3.append("g")
    .attr("transform", "translate(0," + height2 + ")")
    .call(d3.axisBottom(x))
	.selectAll("text")
		  .style("text-anchor", "end")
		  .style('fill', 'white');
	

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([0, 150])
    .range([ height2, 0]);
  svg3.append("g")
    .call(d3.axisLeft(y))
	.selectAll("text")
		  .style("text-anchor", "end")
		  .style('fill', 'white');

  // Add dots
  svg3.append('g')
    .selectAll("dot")
    .data(data)
    .enter()
    .append("circle")
      .attr("cx", function (d) { return x(d.tloc); } )
      .attr("cy", function (d) { return y(d.numCoveredLines); } )
      .attr("r", 3)
      .style("fill", "#F72585")

})

//terzo plot
var svg4 = d3.select("#svg4")
  .append("svg")
    .attr("width", width2 + margin2.left + margin2.right)
    .attr("height", height2 + margin2.top + margin2.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin2.left + "," + margin2.top + ")");

//Read the data
d3.csv("Activiti2.csv", function(data) {

  // Add X axis
  var x = d3.scaleLinear()
    .domain([0, 0.15])
    .range([ 0, width2 ]);
  svg4.append("g")
    .attr("transform", "translate(0," + height2 + ")")
    .call(d3.axisBottom(x))
	.selectAll("text")
		  .style("text-anchor", "end")
		  .style('fill', 'white');
	

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([0, 25])
    .range([ height2, 0]);
  svg4.append("g")
    .call(d3.axisLeft(y))
	.selectAll("text")
		  .style("text-anchor", "end")
		  .style('fill', 'white');

  // Add dots
  svg4.append('g')
    .selectAll("dot")
    .data(data)
    .enter()
    .append("circle")
      .attr("cx", function (d) { return x(d.tloc); } )
      .attr("cy", function (d) { return y(d.numCoveredLines); } )
      .attr("r", 3)
      .style("fill", "#F72585")

})

</script>